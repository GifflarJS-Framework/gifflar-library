default:
  image: node:10.15.3
  image: anapsix/alpine-java:jdk8

stages:
  - test
  - deploy

quality:
  stage: test
  script:
    - export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64
    - npm install
    - npm test

pages:
  stage: deploy
  script:
    - mkdir .public
    - cp -r * .public
    - mv .public public
  artifacts:
    paths:
      - public
  only:
    - master
